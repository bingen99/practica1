<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="css/formulario.css">
  <title>Formulario</title>

</head>

<body>

  <div id="contenedorformulario">

    <div id="navbar">
    </div>

    <form id="formulario">

      <div id="formu">

        <h4>Formulario</h4>
        <label for="name">Nombre:</label>
        <input class="campos" type="text" name="nom" id="nombres">

        <label for="Descripcion">Descripcion:</label>
        <input class="campos" type="text" name="desc" id="descripciones">

        <label for="Numero serie del elemento">Numero serie del elemento:</label>
        <input class="campos" type="number" name="nserie" id="numeroseries">

        <label class="est" for="Estado">Estado:</label>
        <input type="checkbox" name="estado" id="estados">activo:>

        <label>Prioridad:</label>
        <div class="radio">
          <input class="radios" type="radio" name="prioridad" value="alto" id="prioridades">alta:
          <input class="radios" type="radio" name="prioridad" value="medio" id="prioridades">media:
          <input class="radios" type="radio" name="prioridad" value="bajo" id="prioridades">baja:
        </div>

        <input class="boton" type="submit" id="enviar">

      </div>


    </form>

    <div id="pie">

      <footer>
        <p>Copyright: Bingen aparicio Otazua</p>
      </footer>

    </div>
  </div>

  <script>
    formulario.addEventListener('submit', async function crearelementos(e) {
      e.preventDefault();

      Swal.fire({
        title: 'Estas seguro?',
        text: "Seguro que quieres crear un nuevo elemento!",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        confirmButtonText: 'Si quiero crearlo!'
      }).then((result) => {

        if (result.isConfirmed) {

          let formulario = document.getElementById("formulario");
          let nombre = document.getElementById("nombres").value;
          let descripcion = document.getElementById("descripciones").value;
          let nserie = document.getElementById("numeroseries").value;
          let estado = document.getElementById("estados").value;
          let prioridad = document.getElementById("prioridades").value;

          console.log(nombre);
          console.log(formulario);


          return fetch("http://localhost/practica1/ws/createElement2.php", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify({
              nombre: nombre,
              descripcion: descripcion,
              numeroserie: nserie,
              estado: estado,
              prioridad: prioridad,
            })
          })
            .then((res) => res.json())
            .then((data) => console.log(data));
          Swal.fire(
            'Creado!',
            'El elemento ha sido creado.',
            'success'
          )
        }
      })
    })
  </script>
  <script type="text/javascript" src="js/nav.js"></script>
  <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script type="text/javascript" src="js/alertas.js"></script>

</body>

</html>